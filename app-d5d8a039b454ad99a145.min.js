webpackJsonp([0],{124:function(t,e,n){t.exports=n(125)},125:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){var t=["#FFFFFF","#c7e9b4","#7fcdbb","#49b6c3","#3292c0","#235ea8","#0f2f84"],e=new c.default({url:"tiles/{z}/{x}/{y}.pbf",style:function(e){var n=e.properties.cartodb_id;return{fill:t[n%t.length],stroke:"#000000",strokeWidth:1}}}),n=new o.default({container:document.getElementById("map"),center:[-73.9780962104222,40.76777747218667],zoom:16,layer:e});document.getElementById("zoomIn").addEventListener("click",function(){return n.zoomIn()}),document.getElementById("zoomOut").addEventListener("click",function(){return n.zoomOut()})}n(126);var a=n(127),o=i(a),s=n(132),c=i(s);document.addEventListener("DOMContentLoaded",r)},126:function(t,e){},127:function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(128),o=function(t){return t&&t.__esModule?t:{default:t}}(a),s=function(){function t(e){i(this,t);var n=e.container,r=e.center,a=e.zoom,s=e.layer;this.layer=s,this.renderer_=new o.default({container:n,center:r,zoom:a}),this.render_()}return r(t,[{key:"render_",value:function(){this.renderer_.render(this.layer)}},{key:"zoomIn",value:function(){this.renderer_.zoomIn(),this.render_()}},{key:"zoomOut",value:function(){this.renderer_.zoomOut(),this.render_()}}]),t}();e.default=s},128:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(129),s=i(o),c=n(130),h=i(c),u=function t(e){r(this,t),this.canvasContext=e,this.currentJobId=null},l=function(){function t(e){r(this,t),this.center_=e.center,this.zoom_=e.zoom,this.container_=e.container,this.context_=this.createCanvasContext_(),this.canvas_=this.addCanvas_(this.context_),this.renderContext_=new u(this.context_),this.tileCalculator_=new s.default({size:256})}return a(t,[{key:"render",value:function(t){var e=this;this.context_.clearRect(0,0,this.canvas_.width,this.canvas_.height);var n=this.getTiles_(t);this.renderContext_.currentJobId=this.getJobId_(),n.map(function(t){return t.render(e.renderContext_)})}},{key:"zoomIn",value:function(){this.zoom_<18&&this.zoom_++}},{key:"zoomOut",value:function(){this.zoom_>8&&this.zoom_--}},{key:"getTiles_",value:function(t){for(var e=this.getBounds(),n=this.tileCalculator_.xyz(e,this.zoom_),i=[],r=n.minX;r<=n.maxX;r++)for(var a=n.minY;a<=n.maxY;a++){var o=this.getTileAnchor_(r,a,this.zoom_);i.push(new h.default(r,a,this.zoom_,o,t))}return i}},{key:"getBounds",value:function(){var t=this.tileCalculator_.px(this.center_,this.zoom_),e=this.canvas_,n=e.width,i=e.height,r=[t[0]-n/2,t[1]-i/2],a=[t[0]+n/2,t[1]+i/2],o=this.tileCalculator_.ll(r,this.zoom_),s=this.tileCalculator_.ll(a,this.zoom_);return[o[0],s[1],s[0],o[1]]}},{key:"getTileAnchor_",value:function(t,e,n){var i=this.tileCalculator_.bbox(t,e,n),r=this.tileCalculator_.px([i[0],i[3]],n),a=this.tileCalculator_.px(this.center_,this.zoom_),o=this.canvas_,s=o.width,c=o.height;return[s/2-(a[0]-r[0]),c/2-(a[1]-r[1])]}},{key:"createCanvasContext_",value:function(){return document.createElement("CANVAS").getContext("2d")}},{key:"addCanvas_",value:function(t){var e=t.canvas;return e.style.width="100%",e.style.height="100%",e.style.display="block",e.width=this.container_.clientWidth,e.height=this.container_.clientHeight,this.container_.appendChild(e),e}},{key:"getJobId_",value:function(){return(new Date).getTime()+"-"+16*Math.random()}}]),t}();e.default=l},129:function(t,e,n){var i=function(){function t(t){if(t=t||{},this.size=t.size||256,!e[this.size]){var n=this.size,i=e[this.size]={};i.Bc=[],i.Cc=[],i.zc=[],i.Ac=[];for(var r=0;r<30;r++)i.Bc.push(n/360),i.Cc.push(n/(2*Math.PI)),i.zc.push(n/2),i.Ac.push(n),n*=2}this.Bc=e[this.size].Bc,this.Cc=e[this.size].Cc,this.zc=e[this.size].zc,this.Ac=e[this.size].Ac}var e={},n=Math.PI/180,i=180/Math.PI,r=6378137,a=20037508.342789244;return t.prototype.px=function(t,e){var i=this.zc[e],r=Math.min(Math.max(Math.sin(n*t[1]),-.9999),.9999),a=Math.round(i+t[0]*this.Bc[e]),o=Math.round(i+.5*Math.log((1+r)/(1-r))*-this.Cc[e]);return a>this.Ac[e]&&(a=this.Ac[e]),o>this.Ac[e]&&(o=this.Ac[e]),[a,o]},t.prototype.ll=function(t,e){var n=(t[1]-this.zc[e])/-this.Cc[e];return[(t[0]-this.zc[e])/this.Bc[e],i*(2*Math.atan(Math.exp(n))-.5*Math.PI)]},t.prototype.bbox=function(t,e,n,i,r){i&&(e=Math.pow(2,n)-1-e);var a=[t*this.size,(+e+1)*this.size],o=[(+t+1)*this.size,e*this.size],s=this.ll(a,n).concat(this.ll(o,n));return"900913"===r?this.convert(s,"900913"):s},t.prototype.xyz=function(t,e,n,i){"900913"===i&&(t=this.convert(t,"WGS84"));var r=[t[0],t[1]],a=[t[2],t[3]],o=this.px(r,e),s=this.px(a,e),c=[Math.floor(o[0]/this.size),Math.floor((s[0]-1)/this.size)],h=[Math.floor(s[1]/this.size),Math.floor((o[1]-1)/this.size)],u={minX:Math.min.apply(Math,c)<0?0:Math.min.apply(Math,c),minY:Math.min.apply(Math,h)<0?0:Math.min.apply(Math,h),maxX:Math.max.apply(Math,c),maxY:Math.max.apply(Math,h)};if(n){var l={minY:Math.pow(2,e)-1-u.maxY,maxY:Math.pow(2,e)-1-u.minY};u.minY=l.minY,u.maxY=l.maxY}return u},t.prototype.convert=function(t,e){return"900913"===e?this.forward(t.slice(0,2)).concat(this.forward(t.slice(2,4))):this.inverse(t.slice(0,2)).concat(this.inverse(t.slice(2,4)))},t.prototype.forward=function(t){var e=[r*t[0]*n,r*Math.log(Math.tan(.25*Math.PI+.5*t[1]*n))];return e[0]>a&&(e[0]=a),e[0]<-a&&(e[0]=-a),e[1]>a&&(e[1]=a),e[1]<-a&&(e[1]=-a),e},t.prototype.inverse=function(t){return[t[0]*i/r,(.5*Math.PI-2*Math.atan(Math.exp(-t[1]/r)))*i]},t}();t.exports=i},130:function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(131),o=function(t){return t&&t.__esModule?t:{default:t}}(a),s=function(){function t(e,n,r,a,o){i(this,t),this.x=e,this.y=n,this.z=r,this.canvasAnchor=a,this.layer=o}return r(t,[{key:"render",value:function(t){var e=this.layer.url.replace("{x}",this.x).replace("{y}",this.y).replace("{z}",this.z),n=new o.default;n.postMessage(e),n.onmessage=this.onTileLoad_.bind(this,t,t.currentJobId)}},{key:"onTileLoad_",value:function(t,e,n){if(e!==t.currentJobId)return!1;var i=n.data;null!==i&&this.renderTile_(i,t.canvasContext)}},{key:"renderTile_",value:function(t,e){var n=this;e.save(),e.beginPath(),e.rect(this.canvasAnchor[0]-1,this.canvasAnchor[1]-1,257,257),e.clip(),Object.keys(t).forEach(function(i){var r=t[i];r.features.forEach(function(t){n.renderFeature_(t,r,e)})}),e.restore()}},{key:"renderFeature_",value:function(t,e,n){var i=this;if(3===t.type){var r=t.geom[0];n.beginPath(),r.forEach(function(t){var r=i.scale_(t,e.extent);n.lineTo(r[0],r[1])}),n.closePath();var a=this.layer.style(t);n.fillStyle=a.fill,n.strokeStyle=a.stroke,n.lineWidth=a.strokeWidth,n.fill(),n.stroke()}}},{key:"scale_",value:function(t,e){var n=t.x/e*256,i=t.y/e*256;return[this.canvasAnchor[0]+n,this.canvasAnchor[1]+i]}}]),t}();e.default=s},131:function(t,e,n){t.exports=function(){return new Worker(n.p+"fa4d921931df21166a99.worker.js")}},132:function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function t(e){i(this,t);var n=e.url,r=e.style;this.url=n,this.style=r};e.default=r}},[124]);
//# sourceMappingURL=app-d5d8a039b454ad99a145.map